enable
conf t
hostname R2
username admin secret admin
snmp-server community public ro
snmp-server location RCN
snmp-server contact james.vaughan@colorado.edu
snmp-server host 10.10.4.254 version 2c public
!
logging host 172.20.20.1logging host 172.20.20.1logging host 172.20.20.1
!
management api gnmi
   transport grpc default
!
ip dhcp relay information option
ip dhcp relay all-subnets default
!
dhcp server
   subnet 10.10.0.0/28
      range 10.10.0.3 10.10.0.14
      name vlan10
      default-gateway 10.10.0.1
   !
   subnet 10.10.1.0/28
      range 10.10.1.3 10.10.1.14
      name vlan20
      default-gateway 10.10.1.1
   !
   subnet 2101::/64
      range 2101::4 2101::ffff:ffff:fffe
      name vlan10
   !
   subnet 2102::/64
      range 2102::4 2102::ffff:ffff:fffe
      name vlan20
   !
   subnet 2103::/64
      range 2103::4 2103::ffff:ffff:fffe
      name vlan30
!   
spanning-tree mode rstp
ip routing
!
vlan 10
vlan 20
vlan 30
vlan 40
vlan 50
!
interface Ethernet1
   no switchport
!
interface Ethernet1.40
   encapsulation dot1q vlan 40
   ip address 10.10.3.2/28
   ipv6 address 2104::2/64
   ipv6 ospf 10 area 0.0.0.0
!
interface Ethernet1.50
   encapsulation dot1q vlan 50
   ip address 10.10.4.2/24
   dhcp server ipv4
!
interface Ethernet2
   no switchport
!
interface Ethernet2.10
   encapsulation dot1q vlan 10
   ip address 10.10.0.2/28
   ipv6 address 2101::2/64
   ipv6 ospf 10 area 0.0.0.0
!
interface Ethernet2.20
   encapsulation dot1q vlan 20
   ip address 10.10.1.2/28
   ipv6 address 2102::2/64
   ipv6 ospf 10 area 0.0.0.0
!
interface Ethernet2.30
   encapsulation dot1q vlan 30
   ipv6 address 2103::2/64
   ipv6 ospf 10 area 0.0.0.0
!
interface Ethernet2.50
   encapsulation dot1q vlan 50
   ip address 10.10.40.2/24
!
interface Ethernet3
!
interface Loopback0
   ip address 10.0.0.2/32
!
interface Vlan10
   dhcp server ipv4
   dhcp server ipv6
!
interface Vlan20
   dhcp server ipv4
   dhcp server ipv6
!
interface Vlan30
   dhcp server ipv4
   dhcp server ipv6
!
ip routing
ipv6 unicast-routing
!
router ospf 10
   router-id 10.0.0.2
   network 10.0.0.1/32 area 0.0.0.0
   network 10.10.3.0/28 area 0.0.0.0
   network 10.10.4.0/24 area 0.0.0.0
   network 10.10.0.0/28 area 0.0.0.0
   network 10.10.1.0/28 area 0.0.0.0
   max-lsa 12000
!
ipv6 router ospf 10
   router-id 10.0.0.2
!
router rip
   network 10.10.0.0/28
   network 10.10.1.0/28
   no shutdown
!
end

